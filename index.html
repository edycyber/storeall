<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sparrow AI - Professional Online Store Editor</title>
    <style>
        /* Editor Styles */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .container {
            display: flex;
            gap: 20px;
        }
        .editor-container, .preview-container {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .editor-container {
            flex: 1;
        }
        .preview-container {
            flex: 2;
        }
        .editor, .appearance-editor, .navigation-editor, .product-editor, .footer-editor {
            margin-bottom: 20px;
        }
        input, select, textarea {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }

        /* Preview Styles */
        #preview {
            font-family: 'Arial', sans-serif;
        }
        #preview header {
            background-color: #333;
            color: white;
            padding: 20px;
            text-align: center;
        }
        #preview nav {
            background-color: #f8f8f8;
            padding: 10px;
        }
        #preview nav ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: center;
        }
        #preview nav ul li {
            margin: 0 10px;
        }
        #preview nav ul li a {
            text-decoration: none;
            color: #333;
        }
        #preview .banner {
            background-color: #4CAF50;
            color: white;
            padding: 20px;
            text-align: center;
        }
        #preview .banner a {
            display: inline-block;
            background-color: white;
            color: #4CAF50;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 10px;
        }
        #preview .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        #preview .product {
            border: 1px solid #ddd;
            padding: 15px;
            text-align: center;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        #preview .product img {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
        }
        #preview .product h3 {
            margin: 10px 0;
        }
        #preview .product p {
            color: #666;
            margin-bottom: 15px;
        }
        #preview .product a {
            display: inline-block;
            background-color: #4CAF50;
            color: white;
            padding: 8px 15px;
            text-decoration: none;
            border-radius: 4px;
        }
        #preview footer {
            background-color: #333;
            color: white;
            padding: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Sparrow AI - Professional Online Store Editor</h1>

    <div class="container">
        <div class="editor-container">
            <h2>Editor</h2>

            <div class="editor">
                <h3>Header</h3>
                <input type="text" id="headerTitle" placeholder="Header Title" value="BestPrice Shop">
                <input type="text" id="offerBarText" placeholder="Offer Bar Text" value="Limited Time Offer: 50% off all Electronics!">
                <input type="text" id="offerButtonText" placeholder="Offer Button Text" value="Shop Now">
                <input type="text" id="offerButtonURL" placeholder="Offer Button URL" value="#">
                <button onclick="updatePreview()">Update Preview</button>
            </div>

            <div class="appearance-editor">
                <h3>Appearance Settings</h3>
                <input type="color" id="headerColor" value="#333333">
                <label for="headerColor">Header Color</label>
                <input type="color" id="primaryColor" value="#4CAF50">
                <label for="primaryColor">Primary Color</label>
                <button onclick="updateAppearance()">Update Appearance</button>
            </div>

            <div class="navigation-editor">
                <h3>Navigation</h3>
                <input type="text" id="navigationItems" placeholder="Navigation Items (comma separated)" value="Home, Electronics, Fashion, Home & Garden, Toys">
                <button onclick="updateNavigation()">Update Navigation</button>
            </div>

            <div class="product-editor">
                <h3>Add Product</h3>
                <select id="productCategory">
                    <option value="Electronics">Electronics</option>
                    <option value="Fashion">Fashion</option>
                    <option value="Home & Garden">Home & Garden</option>
                    <option value="Toys">Toys</option>
                </select>
                <input type="text" id="productTitle" placeholder="Product Title">
                <textarea id="productDescription" placeholder="Product Description"></textarea>
                <input type="text" id="productImageURL" placeholder="Product Image URL">
                <input type="text" id="productPrice" placeholder="Product Price">
                <input type="text" id="productButtonText" placeholder="Product Button Text" value="Add to Cart">
                <button onclick="addProduct()">Add Product</button>
            </div>

            <div class="footer-editor">
                <h3>Footer</h3>
                <textarea id="footerText" placeholder="Footer Text">© 2024 BestPrice Shop. All rights reserved.</textarea>
                <button onclick="updateFooter()">Update Footer</button>
            </div>

            <button onclick="downloadHTML()">Download Preview as HTML</button>
        </div>

        <div class="preview-container">
            <h2>Live Preview</h2>
            <div id="preview">
                <header>
                    <h1 id="previewHeaderTitle">BestPrice Shop</h1>
                </header>
                <nav id="previewNavigation">
                    <ul>
                        <li><a href="#" onclick="showCategory('Home')">Home</a></li>
                        <li><a href="#" onclick="showCategory('Electronics')">Electronics</a></li>
                        <li><a href="#" onclick="showCategory('Fashion')">Fashion</a></li>
                        <li><a href="#" onclick="showCategory('Home & Garden')">Home & Garden</a></li>
                        <li><a href="#" onclick="showCategory('Toys')">Toys</a></li>
                    </ul>
                </nav>
                <div class="banner">
                    <h2 id="previewOfferText">Limited Time Offer: 50% off all Electronics!</h2>
                    <a href="#" id="previewOfferButton">Shop Now</a>
                </div>
                <div id="productGrid" class="product-grid"></div>
                <footer id="previewFooter">
                    <p>© 2024 BestPrice Shop. All rights reserved.</p>
                </footer>
            </div>
        </div>
    </div>

    <script>
        let products = {
            'Electronics': [
                {
                    title: 'Smart TV',
                    description: '55" 4K Ultra HD Smart LED TV',
                    imageURL: '/api/placeholder/200/150',
                    price: '$499.99',
                    buttonText: 'Add to Cart'
                },
                {
                    title: 'Laptop',
                    description: '15.6" Full HD Laptop, 8GB RAM, 256GB SSD',
                    imageURL: '/api/placeholder/200/150',
                    price: '$699.99',
                    buttonText: 'Add to Cart'
                }
            ],
            'Fashion': [
                {
                    title: 'Men\'s Shirt',
                    description: 'Casual Button-Down Shirt, 100% Cotton',
                    imageURL: '/api/placeholder/200/150',
                    price: '$29.99',
                    buttonText: 'Add to Cart'
                },
                {
                    title: 'Women\'s Dress',
                    description: 'Floral Print Maxi Dress, Sleeveless',
                    imageURL: '/api/placeholder/200/150',
                    price: '$39.99',
                    buttonText: 'Add to Cart'
                }
            ]
        };

        function updatePreview() {
            document.getElementById('previewHeaderTitle').textContent = document.getElementById('headerTitle').value;
            document.getElementById('previewOfferText').textContent = document.getElementById('offerBarText').value;
            document.getElementById('previewOfferButton').textContent = document.getElementById('offerButtonText').value;
            document.getElementById('previewOfferButton').href = document.getElementById('offerButtonURL').value;
        }

        function updateAppearance() {
            const headerColor = document.getElementById('headerColor').value;
            const primaryColor = document.getElementById('primaryColor').value;
            
            const preview = document.getElementById('preview');
            preview.querySelector('header').style.backgroundColor = headerColor;
            preview.querySelector('.banner').style.backgroundColor = primaryColor;
            preview.querySelectorAll('.product a').forEach(button => {
                button.style.backgroundColor = primaryColor;
            });
        }

        function updateNavigation() {
            const navItems = document.getElementById('navigationItems').value.split(',').map(item => item.trim());
            const navElement = document.getElementById('previewNavigation');
            navElement.innerHTML = '';
            const ul = document.createElement('ul');
            navItems.forEach(item => {
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = '#';
                a.textContent = item;
                a.onclick = () => showCategory(item);
                li.appendChild(a);
                ul.appendChild(li);
            });
            navElement.appendChild(ul);
            
            // Update product category options
            const categorySelect = document.getElementById('productCategory');
            categorySelect.innerHTML = '';
            navItems.forEach(item => {
                if (item !== 'Home') {
                    const option = document.createElement('option');
                    option.value = item;
                    option.textContent = item;
                    categorySelect.appendChild(option);
                }
            });
        }

        function addProduct() {
            const category = document.getElementById('productCategory').value;
            const product = {
                title: document.getElementById('productTitle').value,
                description: document.getElementById('productDescription').value,
                imageURL: document.getElementById('productImageURL').value || '/api/placeholder/200/150',
                price: document.getElementById('productPrice').value,
                buttonText: document.getElementById('productButtonText').value
            };

            if (!products[category]) {
                products[category] = [];
            }
            products[category].push(product);

            showCategory(category);
        }

        function showCategory(category) {
            const productGrid = document.getElementById('productGrid');
            productGrid.innerHTML = '';

            if (category === 'Home') {
                Object.values(products).flat().forEach(addProductToGrid);
            } else if (products[category]) {
                products[category].forEach(addProductToGrid);
            }
        }

        function addProductToGrid(product) {
            const productElement = document.createElement('div');
            productElement.className = 'product';
            productElement.innerHTML = `
                <img src="${product.imageURL}" alt="${product.title}">
                <h3>${product.title}</h3>
                <p>${product.description}</p>
                <p class="price">${product.price}</p>
                <a href="#">${product.buttonText}</a>
            `;
            document.getElementById('productGrid').appendChild(productElement);
        }

        function updateFooter() {
            document.getElementById('previewFooter').innerHTML = document.getElementById('footerText').value;
        }

        function downloadHTML() {
            const previewContent = document.getElementById('preview').innerHTML;
            const styles = document.querySelector('style').textContent;
            const htmlContent = `
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>${document.getElementById('headerTitle').value}</title>
                    <style>
                        ${styles}
                    </style>
                </head>
                <body>
                    <div id="preview">
                        ${previewContent}
                    </div>
                </body>
                </html>
            `;
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'online-store.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Initialize the page
        updateNavigation();
        showCategory('Home');
    </script>
</body>
</html>

