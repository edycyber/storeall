<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sparrow AI - Online Store Editor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }
        .container {
            display: flex;
            gap: 20px;
        }
        .editor-container, .preview-container {
            flex: 1;
        }
        .editor, .appearance-editor, .navigation-editor, .product-editor, .footer-editor {
            margin-bottom: 20px;
        }
        #preview {
            border: 1px solid #ccc;
            padding: 20px;
        }
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }
        .product {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }
        .product img {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <h1>Sparrow AI - Online Store Editor</h1>

    <div class="container">
        <div class="editor-container">
            <h2>Editor</h2>

            <div class="editor">
                <h3>Header</h3>
                <input type="text" id="headerTitle" placeholder="Header Title">
                <input type="text" id="offerBarText" placeholder="Offer Bar Text">
                <input type="text" id="offerButtonText" placeholder="Offer Button Text">
                <input type="text" id="offerButtonURL" placeholder="Offer Button URL">
                <button onclick="updatePreview()">Update Preview</button>
            </div>

            <div class="appearance-editor">
                <h3>Appearance Settings</h3>
                <input type="color" id="backgroundColor" value="#ffffff">
                <label for="backgroundColor">Background Color</label>
                <input type="color" id="textColor" value="#000000">
                <label for="textColor">Text Color</label>
                <input type="text" id="backgroundImageURL" placeholder="Background Image URL (Optional)">
                <button onclick="updateAppearance()">Update Appearance</button>
            </div>

            <div class="navigation-editor">
                <h3>Navigation</h3>
                <input type="text" id="navigationItems" placeholder="Navigation Items (comma separated)">
                <button onclick="updateNavigation()">Update Navigation</button>
            </div>

            <div class="product-editor">
                <h3>Add Product</h3>
                <select id="productCategory">
                    <option value="Home">Home</option>
                    <option value="Technology">Technology</option>
                    <option value="Fashion">Fashion</option>
                    <option value="Toys">Toys</option>
                    <option value="Travel">Travel</option>
                    <option value="Rudeness">Rudeness</option>
                    <option value="Tiny Home">Tiny Home</option>
                </select>
                <input type="text" id="productTitle" placeholder="Product Title">
                <textarea id="productDescription" placeholder="Product Description"></textarea>
                <input type="text" id="productImageURL" placeholder="Product Image URL">
                <input type="text" id="productButtonText" placeholder="Product Button Text">
                <input type="text" id="productButtonURL" placeholder="Product Button URL">
                <button onclick="addProduct()">Add Product</button>
            </div>

            <div class="footer-editor">
                <h3>Footer</h3>
                <textarea id="footerText" placeholder="Footer Text"></textarea>
                <button onclick="updateFooter()">Update Footer</button>
            </div>

            <button onclick="downloadHTML()">Download as index.html</button>
        </div>

        <div class="preview-container">
            <h2>Live Preview</h2>
            <div id="preview">
                <h1 id="previewHeaderTitle">Best Price</h1>
                <nav id="previewNavigation">
                    <ul>
                        <li><a href="#" onclick="showCategory('Home')">Home</a></li>
                        <li><a href="#" onclick="showCategory('Technology')">Technology</a></li>
                        <li><a href="#" onclick="showCategory('Fashion')">Fashion</a></li>
                        <li><a href="#" onclick="showCategory('Toys')">Toys</a></li>
                        <li><a href="#" onclick="showCategory('Travel')">Travel</a></li>
                        <li><a href="#" onclick="showCategory('Rudeness')">Rudeness</a></li>
                        <li><a href="#" onclick="showCategory('Tiny Home')">Tiny Home</a></li>
                    </ul>
                </nav>
                <div class="banner">
                    <h2 id="previewOfferText">Offer of the Week: 50% off all Electronics!</h2>
                    <a href="#" id="previewOfferButton">See Offer</a>
                </div>
                <div id="productGrid" class="product-grid"></div>
                <footer>
                    <div id="previewFooterContent">
                        <h3>About Best Price</h3>
                        <p>Your one-stop shop for the best deals on everything you need.</p>
                    </div>
                    <p>Â© 2024 Best Price. All rights reserved.</p>
                </footer>
            </div>
        </div>
    </div>

    <script>
        let products = {};

        function updatePreview() {
            document.getElementById('previewHeaderTitle').textContent = document.getElementById('headerTitle').value;
            document.getElementById('previewOfferText').textContent = document.getElementById('offerBarText').value;
            document.getElementById('previewOfferButton').textContent = document.getElementById('offerButtonText').value;
            document.getElementById('previewOfferButton').href = document.getElementById('offerButtonURL').value;
        }

        function updateAppearance() {
            const preview = document.getElementById('preview');
            preview.style.backgroundColor = document.getElementById('backgroundColor').value;
            preview.style.color = document.getElementById('textColor').value;
            const bgImageURL = document.getElementById('backgroundImageURL').value;
            preview.style.backgroundImage = bgImageURL ? `url(${bgImageURL})` : 'none';
        }

        function updateNavigation() {
            const navItems = document.getElementById('navigationItems').value.split(',').map(item => item.trim());
            const navElement = document.getElementById('previewNavigation');
            navElement.innerHTML = '';
            const ul = document.createElement('ul');
            navItems.forEach(item => {
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = '#';
                a.textContent = item;
                a.onclick = () => showCategory(item);
                li.appendChild(a);
                ul.appendChild(li);
            });
            navElement.appendChild(ul);
            
            // Update product category options
            const categorySelect = document.getElementById('productCategory');
            categorySelect.innerHTML = '';
            navItems.forEach(item => {
                const option = document.createElement('option');
                option.value = item;
                option.textContent = item;
                categorySelect.appendChild(option);
            });
        }

        function addProduct() {
            const category = document.getElementById('productCategory').value;
            const product = {
                title: document.getElementById('productTitle').value,
                description: document.getElementById('productDescription').value,
                imageURL: document.getElementById('productImageURL').value,
                buttonText: document.getElementById('productButtonText').value,
                buttonURL: document.getElementById('productButtonURL').value
            };

            if (!products[category]) {
                products[category] = [];
            }
            products[category].push(product);

            showCategory(category);
        }

        function showCategory(category) {
            const productGrid = document.getElementById('productGrid');
            productGrid.innerHTML = '';

            if (products[category]) {
                products[category].forEach(product => {
                    const productElement = document.createElement('div');
                    productElement.className = 'product';
                    productElement.innerHTML = `
                        <img src="${product.imageURL}" alt="${product.title}">
                        <h3>${product.title}</h3>
                        <p>${product.description}</p>
                        <a href="${product.buttonURL}">${product.buttonText}</a>
                    `;
                    productGrid.appendChild(productElement);
                });
            }
        }

        function updateFooter() {
            document.getElementById('previewFooterContent').innerHTML = document.getElementById('footerText').value;
        }

        function downloadHTML() {
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'index.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Initialize the page
        updateNavigation();
    </script>
</body>
</html>

